{"ast":null,"code":"var _jsxFileName = \"/Users/geethav/Desktop/React/react-node/src/ProductList.js\";\nimport React from 'react';\nimport { Table, Button, Alert } from 'react-bootstrap';\n\nclass ProductList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      products: [],\n      response: {}\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://localhost:1300/api/select';\n    const myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'application/json');\n    var data = {\n      table: 'products'\n    };\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      myHeaders\n    };\n    fetch(apiUrl, options).then(res => res.post()).then(result => {\n      console.log(result);\n      this.setState({\n        products: result\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  deleteProduct(productId) {\n    const products = this.state.products;\n    const apiUrl = 'http://localhost/reactAPI/reactapi/deleteProduct';\n    const formData = new FormData();\n    formData.append('productId', productId);\n    const options = {\n      method: 'POST',\n      body: formData\n    };\n    fetch(apiUrl, options).then(res => res.json()).then(result => {\n      this.setState({\n        response: result,\n        products: products.filter(product => product.id !== productId)\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          error = _this$state.error,\n          products = _this$state.products;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Error: \", error.message);\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Product List\"), this.state.response.message && React.createElement(Alert, {\n        variant: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.response.message), React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"#ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Product Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"SKU\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, products.map(product => React.createElement(\"tr\", {\n        key: product.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, product.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, product.product_name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, product.sku), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, product.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"info\",\n        onClick: () => this.props.editProduct(product.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Edit\"), \"\\xA0\", React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => this.deleteProduct(product.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Delete\")))))));\n    }\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/geethav/Desktop/React/react-node/src/ProductList.js"],"names":["React","Table","Button","Alert","ProductList","Component","constructor","props","state","error","products","response","componentDidMount","apiUrl","myHeaders","Headers","append","data","table","options","method","body","JSON","stringify","fetch","then","res","post","result","console","log","setState","deleteProduct","productId","formData","FormData","json","filter","product","id","render","message","map","product_name","sku","price","editProduct"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport { Table, Button, Alert } from 'react-bootstrap';\n\nclass ProductList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            products: [],\n            response: {}\n        }\n    }\n\n    componentDidMount() {\n        const apiUrl = 'http://localhost:1300/api/select';\n\n        const myHeaders = new Headers();\n        myHeaders.append('Content-Type', 'application/json');\n        var data = {\n            table: 'products'\n        };\n        const options = {\n            method: 'POST',\n            body: JSON.stringify(data),\n            myHeaders\n        };\n\n        fetch(apiUrl, options)\n            .then(res => res.post())\n            .then(\n                (result) => {\n                    console.log(result);\n                    this.setState({\n                        products: result\n                    });\n                },\n                (error) => {\n                    this.setState({ error });\n                }\n            )\n    }\n\n    deleteProduct(productId) {\n        const { products } = this.state;\n\n        const apiUrl = 'http://localhost/reactAPI/reactapi/deleteProduct';\n        const formData = new FormData();\n        formData.append('productId', productId);\n\n        const options = {\n            method: 'POST',\n            body: formData\n        }\n\n        fetch(apiUrl, options)\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({\n                        response: result,\n                        products: products.filter(product => product.id !== productId)\n                    });\n                },\n                (error) => {\n                    this.setState({ error });\n                }\n            )\n    }\n\n    render() {\n        const { error, products } = this.state;\n\n        if (error) {\n            return (\n                <div>Error: {error.message}</div>\n            )\n        } else {\n            return (\n                <div>\n                    <h2>Product List</h2>\n                    {this.state.response.message && <Alert variant=\"info\">{this.state.response.message}</Alert>}\n                    <Table>\n                        <thead>\n                            <tr>\n                                <th>#ID</th>\n                                <th>Product Name</th>\n                                <th>SKU</th>\n                                <th>Price</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {products.map(product => (\n                                <tr key={product.id}>\n                                    <td>{product.id}</td>\n                                    <td>{product.product_name}</td>\n                                    <td>{product.sku}</td>\n                                    <td>{product.price}</td>\n                                    <td>\n                                        <Button variant=\"info\" onClick={() => this.props.editProduct(product.id)}>Edit</Button>\n                                        &nbsp;<Button variant=\"danger\" onClick={() => this.deleteProduct(product.id)}>Delete</Button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </Table>\n                </div>\n            )\n        }\n    }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}